import{e as s,i as x,v as d,l as c,m,r as P,b as u,t as w,h as R}from"./web-CDnJDCoD.js";import{L as U,S as B,F as G}from"./Show-DwiAvwvW.js";const J=[{id:"1",name:"田中太郎",email:"tanaka@example.com",role:"admin",active:!0,createdAt:"2024-01-15"},{id:"2",name:"佐藤花子",email:"sato@example.com",role:"editor",active:!0,createdAt:"2024-02-20"},{id:"3",name:"鈴木一郎",email:"suzuki@example.com",role:"viewer",active:!1,createdAt:"2024-03-10"},{id:"4",name:"高橋美咲",email:"takahashi@example.com",role:"editor",active:!0,createdAt:"2024-04-05"},{id:"5",name:"山田健太",email:"yamada@example.com",role:"viewer",active:!0,createdAt:"2024-05-12"}],b=[{value:"admin",label:"管理者"},{value:"editor",label:"編集者"},{value:"viewer",label:"閲覧者"}],K={type:"list",resource:"users",label:"ユーザー一覧",fields:[{name:"name",label:"名前",kind:"text",sortable:!0},{name:"email",label:"メール",kind:"email",sortable:!0},{name:"role",label:"権限",kind:"enum",sortable:!0,options:b},{name:"active",label:"有効",kind:"boolean"},{name:"createdAt",label:"登録日",kind:"date",sortable:!0}],rows:J.map(a=>({id:a.id,values:a,actions:[{id:"edit",label:"編集",allowed:!0,ui:{variant:"secondary"}},{id:"delete",label:"削除",allowed:!0,confirm:"本当に削除しますか？",ui:{variant:"danger"}}]})),headerActions:[{id:"create",label:"新規作成",allowed:!0,ui:{variant:"primary"}}],bulkActions:[{id:"bulk-delete",label:"一括削除",allowed:!0,confirm:"選択したユーザーを削除しますか？",ui:{variant:"danger"}},{id:"bulk-export",label:"エクスポート",allowed:!0}],filters:{named:[]},selection:{mode:"multi",selected:[]},search:{fields:["name","email"],query:""},defaultSort:{field:"createdAt",order:"desc"},clickAction:"show"},Q={type:"show",resource:"users",label:"ユーザー詳細",id:"1",fields:[{name:"name",label:"名前",kind:"text",value:"田中太郎"},{name:"email",label:"メール",kind:"email",value:"tanaka@example.com"},{name:"role",label:"権限",kind:"enum",value:"admin",options:b},{name:"active",label:"有効",kind:"boolean",value:!0},{name:"createdAt",label:"登録日",kind:"date",value:"2024-01-15"}],actions:[{id:"edit",label:"編集",allowed:!0,ui:{variant:"primary"}},{id:"delete",label:"削除",allowed:!0,confirm:"本当に削除しますか？",ui:{variant:"danger"}}],groups:[{id:"basic",label:"基本情報",fields:["name","email"]},{id:"settings",label:"設定",fields:["role","active","createdAt"]}]},T={type:"form",resource:"users",label:"ユーザー編集",mode:"edit",id:"1",fields:[{name:"name",label:"名前",kind:"text",value:"田中太郎",required:!0,readonly:!1,errors:[],placeholder:"名前を入力"},{name:"email",label:"メールアドレス",kind:"email",value:"tanaka@example.com",required:!0,readonly:!1,errors:[],placeholder:"email@example.com"},{name:"role",label:"権限",kind:"enum",value:"admin",required:!0,readonly:!1,errors:[],options:b},{name:"active",label:"有効",kind:"boolean",value:!0,required:!1,readonly:!1,errors:[],hint:"無効にするとログインできなくなります"}],actions:[{id:"cancel",label:"キャンセル",allowed:!0}],isValid:!0,isDirty:!1,groups:[{id:"basic",label:"基本情報",fields:["name","email"]},{id:"settings",label:"設定",fields:["role","active"]}]};var W=w('<div class=space-y-6><div class="flex items-center justify-between"><div><h1 class="text-2xl font-semibold text-gray-900">ユーザー管理</h1><p class="mt-1 text-sm text-gray-500">ユーザーアカウントの管理を行います</p></div><!$><!/></div><div class="bg-white shadow rounded-lg overflow-hidden"><!$><!/><!$><!/><!$><!/>'),X=w('<button class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50">← 一覧に戻る');function I(){const[a,n]=s("list"),[$,v]=s(K),[p]=s(Q),[k,y]=s(T),_=e=>{v(l=>{const t=l.selection.selected.includes(e)?l.selection.selected.filter(i=>i!==e):[...l.selection.selected,e];return{...l,selection:{...l.selection,selected:t}}})},S=()=>{v(e=>{const l=e.selection.selected.length===e.rows.length;return{...e,selection:{...e.selection,selected:l?[]:e.rows.map(t=>t.id)}}})},A=(e,l)=>{console.log("List action:",e,l),(e==="create"||e==="edit")&&n("form")},V=e=>{console.log("Show action:",e),e==="edit"&&n("form")},M=e=>{e==="cancel"&&n("list")},C=(e,l)=>{y(t=>({...t,isDirty:!0,fields:t.fields.map(i=>i.name===e?{...i,value:l}:i)}))},F=()=>{console.log("Form submitted"),n("list")};return(()=>{var e=x(W),l=e.firstChild,t=l.firstChild,i=t.nextSibling,[L,q]=d(i.nextSibling),o=l.nextSibling,D=o.firstChild,[f,E]=d(D.nextSibling),N=f.nextSibling,[g,j]=d(N.nextSibling),z=g.nextSibling,[H,O]=d(z.nextSibling);return c(l,(()=>{var r=m(()=>a()!=="list");return()=>r()&&(()=>{var h=x(X);return h.$$click=()=>n("list"),P(),h})()})(),L,q),c(o,(()=>{var r=m(()=>a()==="list");return()=>r()&&u(U,{get vm(){return $()},onAction:A,onSelect:_,onSelectAll:S,onRowClick:()=>n("show")})})(),f,E),c(o,(()=>{var r=m(()=>a()==="show");return()=>r()&&u(B,{get vm(){return p()},onAction:V})})(),g,j),c(o,(()=>{var r=m(()=>a()==="form");return()=>r()&&u(G,{get vm(){return k()},onChange:C,onSubmit:F,onAction:M})})(),H,O),e})()}R(["click"]);export{I as default};
