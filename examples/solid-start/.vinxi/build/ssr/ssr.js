import{ssrElement as k,escape as v,mergeProps as pe,ssr as S,getRequestEvent as x,isServer as T,renderToString as he,renderToStream as fe,createComponent as p,delegateEvents as me,ssrHydrationKey as E,useAssets as ge,NoHydration as ne,Hydration as ye,ssrAttribute as P,HydrationScript as we}from"solid-js/web";import{lazy as Se,createComponent as Re,sharedConfig as $,children as be,createMemo as M,getOwner as ve,untrack as Ee,Show as re,on as $e,createRoot as Ae,createSignal as Ce,onCleanup as j,Suspense as xe,catchError as Te,ErrorBoundary as Le}from"solid-js";import{provideRequestEvent as ke}from"solid-js/web/storage";import{H3Event as q,setResponseStatus as Pe,setHeader as Ne,getRequestIP as He,getResponseStatus as _e,getResponseStatusText as qe,getResponseHeader as Oe,setResponseHeader as De,removeResponseHeader as Ie,appendResponseHeader as Me,getResponseHeaders as je,getRequestURL as Fe,getRequestWebStream as Ue,sendRedirect as We,getCookie as Be,setCookie as Ve,eventHandler as Ke}from"h3";import{AsyncLocalStorage as ze}from"node:async_hooks";import{c as Ge,a as Je,R as Ye,g as Qe,b as Xe,d as W,e as Ze,m as et,f as tt,k as nt,s as rt,n as st}from"./assets/routing-mea0BGAx.js";function ot(e={}){let t,n=!1;const s=a=>{if(t&&t!==a)throw new Error("Context conflict")};let r;if(e.asyncContext){const a=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;a?r=new a:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const o=()=>{if(r){const a=r.getStore();if(a!==void 0)return a}return t};return{use:()=>{const a=o();if(a===void 0)throw new Error("Context is not available");return a},tryUse:()=>o(),set:(a,i)=>{i||s(a),t=a,n=!0},unset:()=>{t=void 0,n=!1},call:(a,i)=>{s(a),t=a;try{return r?r.run(a,i):i()}finally{n||(t=void 0)}},async callAsync(a,i){t=a;const l=()=>{t=a},c=()=>t===a?l:void 0;K.add(c);try{const h=r?r.run(a,i):i();return n||(t=void 0),await h}finally{K.delete(c)}}}}function at(e={}){const t={};return{get(n,s={}){return t[n]||(t[n]=ot({...e,...s})),t[n]}}}const H=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},B="__unctx__",it=H[B]||(H[B]=at()),ct=(e,t={})=>it.get(e,t),V="__unctx_async_handlers__",K=H[V]||(H[V]=new Set);function lt(e){let t;const n=oe(e),s={duplex:"half",method:e.method,headers:e.headers};return e.node.req.body instanceof ArrayBuffer?new Request(n,{...s,body:e.node.req.body}):new Request(n,{...s,get body(){return t||(t=Rt(e),t)}})}function ut(e){return e.web??={request:lt(e),url:oe(e)},e.web.request}function dt(){return $t()}const se=Symbol("$HTTPEvent");function pt(e){return typeof e=="object"&&(e instanceof q||e?.[se]instanceof q||e?.__is_event__===!0)}function y(e){return function(...t){let n=t[0];if(pt(n))t[0]=n instanceof q||n.__is_event__?n:n[se];else{if(!globalThis.app.config.server.experimental?.asyncContext)throw new Error("AsyncLocalStorage was not enabled. Use the `server.experimental.asyncContext: true` option in your app configuration to enable it. Or, pass the instance of HTTPEvent that you have as the first argument to the function.");if(n=dt(),!n)throw new Error("No HTTPEvent found in AsyncLocalStorage. Make sure you are using the function within the server runtime.");t.unshift(n)}return e(...t)}}const oe=y(Fe),ht=y(He),O=y(Pe),z=y(_e),ft=y(qe),N=y(je),G=y(Oe),mt=y(De),gt=y(Me),J=y(We),yt=y(Be),wt=y(Ve),St=y(Ne),Rt=y(Ue),bt=y(Ie),vt=y(ut);function Et(){return ct("nitro-app",{asyncContext:!!globalThis.app.config.server.experimental?.asyncContext,AsyncLocalStorage:ze})}function $t(){return Et().use().event}const A={NORMAL:0,WILDCARD:1,PLACEHOLDER:2};function At(e={}){const t={options:e,rootNode:ae(),staticRoutesMap:{}},n=s=>e.strictTrailingSlash?s:s.replace(/\/$/,"")||"/";if(e.routes)for(const s in e.routes)Y(t,n(s),e.routes[s]);return{ctx:t,lookup:s=>Ct(t,n(s)),insert:(s,r)=>Y(t,n(s),r),remove:s=>xt(t,n(s))}}function Ct(e,t){const n=e.staticRoutesMap[t];if(n)return n.data;const s=t.split("/"),r={};let o=!1,a=null,i=e.rootNode,l=null;for(let c=0;c<s.length;c++){const h=s[c];i.wildcardChildNode!==null&&(a=i.wildcardChildNode,l=s.slice(c).join("/"));const R=i.children.get(h);if(R===void 0){if(i&&i.placeholderChildren.length>1){const b=s.length-c;i=i.placeholderChildren.find(m=>m.maxDepth===b)||null}else i=i.placeholderChildren[0]||null;if(!i)break;i.paramName&&(r[i.paramName]=h),o=!0}else i=R}return(i===null||i.data===null)&&a!==null&&(i=a,r[i.paramName||"_"]=l,o=!0),i?o?{...i.data,params:o?r:void 0}:i.data:null}function Y(e,t,n){let s=!0;const r=t.split("/");let o=e.rootNode,a=0;const i=[o];for(const l of r){let c;if(c=o.children.get(l))o=c;else{const h=Tt(l);c=ae({type:h,parent:o}),o.children.set(l,c),h===A.PLACEHOLDER?(c.paramName=l==="*"?`_${a++}`:l.slice(1),o.placeholderChildren.push(c),s=!1):h===A.WILDCARD&&(o.wildcardChildNode=c,c.paramName=l.slice(3)||"_",s=!1),i.push(c),o=c}}for(const[l,c]of i.entries())c.maxDepth=Math.max(i.length-l,c.maxDepth||0);return o.data=n,s===!0&&(e.staticRoutesMap[t]=o),o}function xt(e,t){let n=!1;const s=t.split("/");let r=e.rootNode;for(const o of s)if(r=r.children.get(o),!r)return n;if(r.data){const o=s.at(-1)||"";r.data=null,Object.keys(r.children).length===0&&r.parent&&(r.parent.children.delete(o),r.parent.wildcardChildNode=null,r.parent.placeholderChildren=[]),n=!0}return n}function ae(e={}){return{type:e.type||A.NORMAL,maxDepth:0,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildren:[]}}function Tt(e){return e.startsWith("**")?A.WILDCARD:e[0]===":"||e==="*"?A.PLACEHOLDER:A.NORMAL}const ie=[{page:!0,$component:{src:"src/routes/(admin)/orders.tsx?pick=default&pick=$css",build:()=>import("./orders.js"),import:()=>import("./orders.js")},path:"/(admin)/orders",filePath:"/Volumes/SSD/projects/specloom/examples/solid-start/src/routes/(admin)/orders.tsx"},{page:!0,$component:{src:"src/routes/(admin)/posts.tsx?pick=default&pick=$css",build:()=>import("./posts.js"),import:()=>import("./posts.js")},path:"/(admin)/posts",filePath:"/Volumes/SSD/projects/specloom/examples/solid-start/src/routes/(admin)/posts.tsx"},{page:!0,$component:{src:"src/routes/(admin)/products.tsx?pick=default&pick=$css",build:()=>import("./products.js"),import:()=>import("./products.js")},path:"/(admin)/products",filePath:"/Volumes/SSD/projects/specloom/examples/solid-start/src/routes/(admin)/products.tsx"},{page:!0,$component:{src:"src/routes/(admin)/users.tsx?pick=default&pick=$css",build:()=>import("./users.js"),import:()=>import("./users.js")},path:"/(admin)/users",filePath:"/Volumes/SSD/projects/specloom/examples/solid-start/src/routes/(admin)/users.tsx"},{page:!0,$component:{src:"src/routes/(admin).tsx?pick=default&pick=$css",build:()=>import("./(admin).js"),import:()=>import("./(admin).js")},path:"/(admin)",filePath:"/Volumes/SSD/projects/specloom/examples/solid-start/src/routes/(admin).tsx"},{page:!0,$component:{src:"src/routes/index.tsx?pick=default&pick=$css",build:()=>import("./index.js"),import:()=>import("./index.js")},path:"/",filePath:"/Volumes/SSD/projects/specloom/examples/solid-start/src/routes/index.tsx"}],Lt=kt(ie.filter(e=>e.page));function kt(e){function t(n,s,r,o){const a=Object.values(n).find(i=>r.startsWith(i.id+"/"));return a?(t(a.children||(a.children=[]),s,r.slice(a.id.length)),n):(n.push({...s,id:r,path:r.replace(/\([^)/]+\)/g,"").replace(/\/+/g,"/")}),n)}return e.sort((n,s)=>n.path.length-s.path.length).reduce((n,s)=>t(n,s,s.path,s.path),[])}function Pt(e,t){const n=Ht.lookup(e);if(n&&n.route){const s=n.route,r=t==="HEAD"?s.$HEAD||s.$GET:s[`$${t}`];if(r===void 0)return;const o=s.page===!0&&s.$component!==void 0;return{handler:r,params:n.params,isPage:o}}}function Nt(e){return e.$HEAD||e.$GET||e.$POST||e.$PUT||e.$PATCH||e.$DELETE}const Ht=At({routes:ie.reduce((e,t)=>{if(!Nt(t))return e;let n=t.path.replace(/\([^)/]+\)/g,"").replace(/\/+/g,"/").replace(/\*([^/]*)/g,(s,r)=>`**:${r}`).split("/").map(s=>s.startsWith(":")||s.startsWith("*")?s:encodeURIComponent(s)).join("/");if(/:[^/]*\?/g.test(n))throw new Error(`Optional parameters are not supported in API routes: ${n}`);if(e[n])throw new Error(`Duplicate API routes for "${n}" found at "${e[n].route.path}" and "${t.path}"`);return e[n]={route:t},e},{})}),_="solidFetchEvent";function _t(e){return{request:vt(e),response:Dt(e),clientAddress:ht(e),locals:{},nativeEvent:e}}function qt(e){if(!e.context[_]){const t=_t(e);e.context[_]=t}return e.context[_]}class Ot{event;constructor(t){this.event=t}get(t){const n=G(this.event,t);return Array.isArray(n)?n.join(", "):n||null}has(t){return this.get(t)!==null}set(t,n){return mt(this.event,t,n)}delete(t){return bt(this.event,t)}append(t,n){gt(this.event,t,n)}getSetCookie(){const t=G(this.event,"Set-Cookie");return Array.isArray(t)?t:[t]}forEach(t){return Object.entries(N(this.event)).forEach(([n,s])=>t(Array.isArray(s)?s.join(", "):s,n,this))}entries(){return Object.entries(N(this.event)).map(([t,n])=>[t,Array.isArray(n)?n.join(", "):n])[Symbol.iterator]()}keys(){return Object.keys(N(this.event))[Symbol.iterator]()}values(){return Object.values(N(this.event)).map(t=>Array.isArray(t)?t.join(", "):t)[Symbol.iterator]()}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}function Dt(e){return{get status(){return z(e)},set status(t){O(e,t)},get statusText(){return ft(e)},set statusText(t){O(e,z(e),t)},headers:new Ot(e)}}function It(e){e.forEach(t=>{if(!t.attrs.href)return;let n=document.head.querySelector(`link[href="${t.attrs.href}"]`);n||(n=document.createElement("link"),n.setAttribute("rel","preload"),n.setAttribute("as","style"),n.setAttribute("href",t.attrs.href),document.head.appendChild(n))})}var Mt=" ";const jt={style:e=>k("style",e.attrs,()=>e.children,!0),link:e=>k("link",e.attrs,void 0,!0),script:e=>e.attrs.src?k("script",pe(()=>e.attrs,{get id(){return e.key}}),()=>S(Mt),!0):null,noscript:e=>k("noscript",e.attrs,()=>v(e.children),!0)};function D(e,t){let{tag:n,attrs:{key:s,...r}={key:void 0},children:o}=e;return jt[n]({attrs:{...r,nonce:t},key:s,children:o})}function Ft(e,t,n,s="default"){return Se(async()=>{{const o=(await e.import())[s],i=(await t.inputs?.[e.src].assets()).filter(c=>c.tag==="style"||c.attrs.rel==="stylesheet");return typeof window<"u"&&It(i),{default:c=>[...i.map(h=>D(h)),Re(o,c)]}}})}function ce(){function e(n){return{...n,...n.$$route?n.$$route.require().route:void 0,info:{...n.$$route?n.$$route.require().route.info:{},filesystem:!0},component:n.$component&&Ft(n.$component,globalThis.MANIFEST.client,globalThis.MANIFEST.ssr),children:n.children?n.children.map(e):void 0}}return Lt.map(e)}let Q;const Ut=T?()=>x().routes:()=>Q||(Q=ce());function Wt(e){const t=yt(e.nativeEvent,"flash");if(t)try{let n=JSON.parse(t);if(!n||!n.result)return;const s=[...n.input.slice(0,-1),new Map(n.input[n.input.length-1])],r=n.error?new Error(n.result):n.result;return{input:s,url:n.url,pending:!1,result:n.thrown?void 0:r,error:n.thrown?r:void 0}}catch(n){console.error(n)}finally{wt(e.nativeEvent,"flash","",{maxAge:0})}}async function Bt(e){const t=globalThis.MANIFEST.client;return globalThis.MANIFEST.ssr,e.response.headers.set("Content-Type","text/html"),Object.assign(e,{manifest:await t.json(),assets:[...await t.inputs[t.handler].assets()],router:{submission:Wt(e)},routes:ce(),complete:!1,$islands:new Set})}const Vt=new Set([301,302,303,307,308]);function I(e){return e.status&&Vt.has(e.status)?e.status:302}function Kt(e,t,n={},s){return Ke({handler:r=>{const o=qt(r);return ke(o,async()=>{const a=Pt(new URL(o.request.url).pathname,o.request.method);if(a){const m=await a.handler.import(),w=o.request.method==="HEAD"?m.HEAD||m.GET:m[o.request.method];o.params=a.params||{},$.context={event:o};const u=await w(o);if(u!==void 0)return u;if(o.request.method!=="GET")throw new Error(`API handler for ${o.request.method} "${o.request.url}" did not return a response.`);if(!a.isPage)return}const i=await t(o),l=typeof n=="function"?await n(i):{...n},c=l.mode||"stream";if(l.nonce&&(i.nonce=l.nonce),c==="sync"){const m=he(()=>($.context.event=i,e(i)),l);if(i.complete=!0,i.response&&i.response.headers.get("Location")){const w=I(i.response);return J(r,i.response.headers.get("Location"),w)}return m}if(l.onCompleteAll){const m=l.onCompleteAll;l.onCompleteAll=w=>{Z(i)(w),m(w)}}else l.onCompleteAll=Z(i);if(l.onCompleteShell){const m=l.onCompleteShell;l.onCompleteShell=w=>{X(i,r)(),m(w)}}else l.onCompleteShell=X(i,r);const h=fe(()=>($.context.event=i,e(i)),l);if(i.response&&i.response.headers.get("Location")){const m=I(i.response);return J(r,i.response.headers.get("Location"),m)}if(c==="async")return h;const{writable:R,readable:b}=new TransformStream;return h.pipeTo(R),b})}})}function X(e,t){return()=>{if(e.response&&e.response.headers.get("Location")){const n=I(e.response);O(t,n),St(t,"Location",e.response.headers.get("Location"))}}}function Z(e){return({write:t})=>{e.complete=!0;const n=e.response&&e.response.headers.get("Location");n&&t(`<script>window.location="${n}"<\/script>`)}}function zt(e,t,n){return Kt(e,Bt,t)}const le=e=>t=>{const{base:n}=t,s=be(()=>t.children),r=M(()=>Ge(s(),t.base||""));let o;const a=Je(e,r,()=>o,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(a),p(Ye.Provider,{value:a,get children(){return p(Gt,{routerState:a,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[(o=ve())&&null,p(Jt,{routerState:a,get branches(){return r()}})]}})}})};function Gt(e){const t=e.routerState.location,n=e.routerState.params,s=M(()=>e.preload&&Ee(()=>{e.preload({params:n,location:t,intent:Qe()||"initial"})}));return p(re,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:r=>p(r,{params:n,location:t,get data(){return s()},get children(){return e.children}})})}function Jt(e){if(T){const r=x();if(r&&r.router&&r.router.dataOnly){Yt(r,e.routerState,e.branches);return}r&&((r.router||(r.router={})).matches||(r.router.matches=e.routerState.matches().map(({route:o,path:a,params:i})=>({path:o.originalPath,pattern:o.pattern,match:a,params:i,info:o.info}))))}const t=[];let n;const s=M($e(e.routerState.matches,(r,o,a)=>{let i=o&&r.length===o.length;const l=[];for(let c=0,h=r.length;c<h;c++){const R=o&&o[c],b=r[c];a&&R&&b.route.key===R.route.key?l[c]=a[c]:(i=!1,t[c]&&t[c](),Ae(m=>{t[c]=m,l[c]=Xe(e.routerState,l[c-1]||e.routerState.base,ee(()=>s()[c+1]),()=>{const w=e.routerState.matches();return w[c]??w[0]})}))}return t.splice(r.length).forEach(c=>c()),a&&i?a:(n=l[0],l)}));return ee(()=>s()&&n)()}const ee=e=>()=>p(re,{get when(){return e()},keyed:!0,children:t=>p(Ze.Provider,{value:t,get children(){return t.outlet()}})});function Yt(e,t,n){const s=new URL(e.request.url),r=W(n,new URL(e.router.previousUrl||e.request.url).pathname),o=W(n,s.pathname);for(let a=0;a<o.length;a++){(!r[a]||o[a].route!==r[a].route)&&(e.router.dataOnly=!0);const{route:i,params:l}=o[a];i.preload&&i.preload({params:l,location:t.location,intent:"preload"})}}function Qt([e,t],n,s){return[e,s?r=>t(s(r)):t]}function Xt(e){let t=!1;const n=r=>typeof r=="string"?{value:r}:r,s=Qt(Ce(n(e.get()),{equals:(r,o)=>r.value===o.value&&r.state===o.state}),void 0,r=>(!t&&e.set(r),$.registry&&!$.done&&($.done=!0),r));return e.init&&j(e.init((r=e.get())=>{t=!0,s[1](n(r)),t=!1})),le({signal:s,create:e.create,utils:e.utils})}function Zt(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function en(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function tn(e){const t=new URL(e);return t.pathname+t.search}function nn(e){let t;const n={value:e.url||(t=x())&&tn(t.request.url)||""};return le({signal:[()=>n,s=>Object.assign(n,s)]})(e)}const rn=new Map;function sn(e=!0,t=!1,n="/_server",s){return r=>{const o=r.base.path(),a=r.navigatorFactory(r.base);let i,l;function c(u){return u.namespaceURI==="http://www.w3.org/2000/svg"}function h(u){if(u.defaultPrevented||u.button!==0||u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)return;const d=u.composedPath().find(U=>U instanceof Node&&U.nodeName.toUpperCase()==="A");if(!d||t&&!d.hasAttribute("link"))return;const g=c(d),f=g?d.href.baseVal:d.href;if((g?d.target.baseVal:d.target)||!f&&!d.hasAttribute("state"))return;const C=(d.getAttribute("rel")||"").split(/\s+/);if(d.hasAttribute("download")||C&&C.includes("external"))return;const L=g?new URL(f,document.baseURI):new URL(f);if(!(L.origin!==window.location.origin||o&&L.pathname&&!L.pathname.toLowerCase().startsWith(o.toLowerCase())))return[d,L]}function R(u){const d=h(u);if(!d)return;const[g,f]=d,F=r.parsePath(f.pathname+f.search+f.hash),C=g.getAttribute("state");u.preventDefault(),a(F,{resolve:!1,replace:g.hasAttribute("replace"),scroll:!g.hasAttribute("noscroll"),state:C?JSON.parse(C):void 0})}function b(u){const d=h(u);if(!d)return;const[g,f]=d;s&&(f.pathname=s(f.pathname)),r.preloadRoute(f,g.getAttribute("preload")!=="false")}function m(u){clearTimeout(i);const d=h(u);if(!d)return l=null;const[g,f]=d;l!==g&&(s&&(f.pathname=s(f.pathname)),i=setTimeout(()=>{r.preloadRoute(f,g.getAttribute("preload")!=="false"),l=g},20))}function w(u){if(u.defaultPrevented)return;let d=u.submitter&&u.submitter.hasAttribute("formaction")?u.submitter.getAttribute("formaction"):u.target.getAttribute("action");if(!d)return;if(!d.startsWith("https://action/")){const f=new URL(d,et);if(d=r.parsePath(f.pathname+f.search),!d.startsWith(n))return}if(u.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const g=rn.get(d);if(g){u.preventDefault();const f=new FormData(u.target,u.submitter);g.call({r,f:u.target},u.target.enctype==="multipart/form-data"?f:new URLSearchParams(f))}}me(["click","submit"]),document.addEventListener("click",R),e&&(document.addEventListener("mousemove",m,{passive:!0}),document.addEventListener("focusin",b,{passive:!0}),document.addEventListener("touchstart",b,{passive:!0})),document.addEventListener("submit",w),j(()=>{document.removeEventListener("click",R),e&&(document.removeEventListener("mousemove",m),document.removeEventListener("focusin",b),document.removeEventListener("touchstart",b)),document.removeEventListener("submit",w)})}}function on(e){if(T)return nn(e);const t=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,r=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:r}},n=tt();return Xt({get:t,set({value:s,replace:r,scroll:o,state:a}){r?window.history.replaceState(nt(a),"",s):window.history.pushState(a,"",s),en(decodeURIComponent(window.location.hash.slice(1)),o),rt()},init:s=>Zt(window,"popstate",st(s,r=>{if(r)return!n.confirm(r);{const o=t();return!n.confirm(o.value,{state:o.state})}})),create:sn(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:n}})(e)}var an=["<div",' class="p-4">Loading...</div>'];function cn(){return p(on,{root:e=>p(xe,{get fallback(){return S(an,E())},get children(){return e.children}}),get children(){return p(Ut,{})}})}const ue=T?e=>{const t=x();return t.response.status=e.code,t.response.statusText=e.text,j(()=>!t.nativeEvent.handled&&!t.complete&&(t.response.status=200)),null}:e=>null;var ln=["<span",' style="font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;">',"</span>"],un=["<span",' style="font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;">500 | Internal Server Error</span>'];const dn=e=>{const t=T?"500 | Internal Server Error":"Error | Uncaught Client Exception";return p(Le,{fallback:n=>(console.error(n),[S(ln,E(),v(t)),p(ue,{code:500})]),get children(){return e.children}})},pn=e=>{let t=!1;const n=Te(()=>e.children,s=>{console.error(s),t=!!s});return t?[S(un,E()),p(ue,{code:500})]:n};var te=["<script",">","<\/script>"],hn=["<script",' type="module"'," async","><\/script>"],fn=["<script",' type="module" async',"><\/script>"];const mn=S("<!DOCTYPE html>");function de(e,t,n=[]){for(let s=0;s<t.length;s++){const r=t[s];if(r.path!==e[0].path)continue;let o=[...n,r];if(r.children){const a=e.slice(1);if(a.length===0||(o=de(a,r.children,o),!o))continue}return o}}function gn(e){const t=x(),n=t.nonce;let s=[];return Promise.resolve().then(async()=>{let r=[];if(t.router&&t.router.matches){const o=[...t.router.matches];for(;o.length&&(!o[0].info||!o[0].info.filesystem);)o.shift();const a=o.length&&de(o,t.routes);if(a){const i=globalThis.MANIFEST.client.inputs;for(let l=0;l<a.length;l++){const c=a[l],h=i[c.$component.src];r.push(h.assets())}}}s=await Promise.all(r).then(o=>[...new Map(o.flat().map(a=>[a.attrs.key,a])).values()].filter(a=>a.attrs.rel==="modulepreload"&&!t.assets.find(i=>i.attrs.key===a.attrs.key)))}),ge(()=>s.length?s.map(r=>D(r)):void 0),p(ne,{get children(){return[mn,p(pn,{get children(){return p(e.document,{get assets(){return[p(we,{}),t.assets.map(r=>D(r,n))]},get scripts(){return n?[S(te,E()+P("nonce",v(n,!0),!1),`window.manifest = ${JSON.stringify(t.manifest)}`),S(hn,E(),P("nonce",v(n,!0),!1),P("src",v(globalThis.MANIFEST.client.inputs[globalThis.MANIFEST.client.handler].output.path,!0),!1))]:[S(te,E(),`window.manifest = ${JSON.stringify(t.manifest)}`),S(fn,E(),P("src",v(globalThis.MANIFEST.client.inputs[globalThis.MANIFEST.client.handler].output.path,!0),!1))]},get children(){return p(ye,{get children(){return p(dn,{get children(){return p(cn,{})}})}})}})}})]}})}var yn=['<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico">',"</head>"],wn=["<html",' lang="ja">','<body><div id="app">',"</div><!--$-->","<!--/--></body></html>"];const An=zt(()=>p(gn,{document:({assets:e,children:t,scripts:n})=>S(wn,E(),p(ne,{get children(){return S(yn,v(e))}}),v(t),v(n))}));export{An as default};
