import{ssr as S,ssrHydrationKey as m,escape as n,createComponent as s}from"solid-js/web";import{createSignal as r}from"solid-js";import{L as V,S as F,F as M}from"./assets/Show-CkBOW0P5.js";import"solid-js/store";const L=[{id:"1",name:"田中太郎",email:"tanaka@example.com",role:"admin",active:!0,createdAt:"2024-01-15"},{id:"2",name:"佐藤花子",email:"sato@example.com",role:"editor",active:!0,createdAt:"2024-02-20"},{id:"3",name:"鈴木一郎",email:"suzuki@example.com",role:"viewer",active:!1,createdAt:"2024-03-10"},{id:"4",name:"高橋美咲",email:"takahashi@example.com",role:"editor",active:!0,createdAt:"2024-04-05"},{id:"5",name:"山田健太",email:"yamada@example.com",role:"viewer",active:!0,createdAt:"2024-05-12"}],d=[{value:"admin",label:"管理者"},{value:"editor",label:"編集者"},{value:"viewer",label:"閲覧者"}],$={type:"list",resource:"users",label:"ユーザー一覧",fields:[{name:"name",label:"名前",kind:"text",sortable:!0},{name:"email",label:"メール",kind:"email",sortable:!0},{name:"role",label:"権限",kind:"enum",sortable:!0,options:d},{name:"active",label:"有効",kind:"boolean"},{name:"createdAt",label:"登録日",kind:"date",sortable:!0}],rows:L.map(a=>({id:a.id,values:a,actions:[{id:"edit",label:"編集",allowed:!0,ui:{variant:"secondary"}},{id:"delete",label:"削除",allowed:!0,confirm:"本当に削除しますか？",ui:{variant:"danger"}}]})),headerActions:[{id:"create",label:"新規作成",allowed:!0,ui:{variant:"primary"}}],bulkActions:[{id:"bulk-delete",label:"一括削除",allowed:!0,confirm:"選択したユーザーを削除しますか？",ui:{variant:"danger"}},{id:"bulk-export",label:"エクスポート",allowed:!0}],filters:{named:[]},selection:{mode:"multi",selected:[]},search:{fields:["name","email"],query:""},defaultSort:{field:"createdAt",order:"desc"},clickAction:"show"},q={type:"show",resource:"users",label:"ユーザー詳細",id:"1",fields:[{name:"name",label:"名前",kind:"text",value:"田中太郎"},{name:"email",label:"メール",kind:"email",value:"tanaka@example.com"},{name:"role",label:"権限",kind:"enum",value:"admin",options:d},{name:"active",label:"有効",kind:"boolean",value:!0},{name:"createdAt",label:"登録日",kind:"date",value:"2024-01-15"}],actions:[{id:"edit",label:"編集",allowed:!0,ui:{variant:"primary"}},{id:"delete",label:"削除",allowed:!0,confirm:"本当に削除しますか？",ui:{variant:"danger"}}],groups:[{id:"basic",label:"基本情報",fields:["name","email"]},{id:"settings",label:"設定",fields:["role","active","createdAt"]}]},C={type:"form",resource:"users",label:"ユーザー編集",mode:"edit",id:"1",fields:[{name:"name",label:"名前",kind:"text",value:"田中太郎",required:!0,readonly:!1,errors:[],placeholder:"名前を入力"},{name:"email",label:"メールアドレス",kind:"email",value:"tanaka@example.com",required:!0,readonly:!1,errors:[],placeholder:"email@example.com"},{name:"role",label:"権限",kind:"enum",value:"admin",required:!0,readonly:!1,errors:[],options:d},{name:"active",label:"有効",kind:"boolean",value:!0,required:!1,readonly:!1,errors:[],hint:"無効にするとログインできなくなります"}],actions:[{id:"cancel",label:"キャンセル",allowed:!0}],isValid:!0,isDirty:!1,groups:[{id:"basic",label:"基本情報",fields:["name","email"]},{id:"settings",label:"設定",fields:["role","active"]}]};var D=["<div",' class="space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-semibold text-gray-900">ユーザー管理</h1><p class="mt-1 text-sm text-gray-500">ユーザーアカウントの管理を行います</p></div><!--$-->','<!--/--></div><div class="bg-white shadow rounded-lg overflow-hidden"><!--$-->',"<!--/--><!--$-->","<!--/--><!--$-->","<!--/--></div></div>"],u=["<button",' class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50">← 一覧に戻る</button>'];function K(){const[a,i]=r("list"),[b,c]=r($),[f]=r(q),[v,h]=r(C),p=e=>{c(l=>{const t=l.selection.selected.includes(e)?l.selection.selected.filter(o=>o!==e):[...l.selection.selected,e];return{...l,selection:{...l.selection,selected:t}}})},w=()=>{c(e=>{const l=e.selection.selected.length===e.rows.length;return{...e,selection:{...e.selection,selected:l?[]:e.rows.map(t=>t.id)}}})},g=(e,l)=>{console.log("List action:",e,l),(e==="create"||e==="edit")&&i("form")},k=e=>{console.log("Show action:",e),e==="edit"&&i("form")},y=e=>{e==="cancel"&&i("list")},x=(e,l)=>{h(t=>({...t,isDirty:!0,fields:t.fields.map(o=>o.name===e?{...o,value:l}:o)}))},A=()=>{console.log("Form submitted"),i("list")};return S(D,m(),a()!=="list"&&u[0]+m()+u[1],a()==="list"&&n(s(V,{get vm(){return b()},onAction:g,onSelect:p,onSelectAll:w,onRowClick:()=>i("show")})),a()==="show"&&n(s(F,{get vm(){return f()},onAction:k})),a()==="form"&&n(s(M,{get vm(){return v()},onChange:x,onSubmit:A,onAction:y})))}export{K as default};
