import{e as o,i as f,v as c,l as d,m as u,r as R,b as m,t as y,h as H}from"./web-CDnJDCoD.js";import{L as j,S as O,F as T}from"./Show-DwiAvwvW.js";const z=[{id:"1",name:"ノートPC",sku:"PC-001",price:128e3,stock:50,category:"electronics",published:!0,url:"https://example.com/pc"},{id:"2",name:"ワイヤレスマウス",sku:"MS-002",price:3980,stock:200,category:"accessories",published:!0,url:"https://example.com/mouse"},{id:"3",name:"モニター 27インチ",sku:"MN-003",price:45e3,stock:30,category:"electronics",published:!0,url:"https://example.com/monitor"},{id:"4",name:"キーボード",sku:"KB-004",price:12800,stock:0,category:"accessories",published:!1,url:""},{id:"5",name:"USBハブ",sku:"HB-005",price:2500,stock:150,category:"accessories",published:!0,url:"https://example.com/hub"},{id:"6",name:"外付けSSD 1TB",sku:"SD-006",price:15800,stock:80,category:"storage",published:!0,url:"https://example.com/ssd"}],b=[{value:"electronics",label:"電子機器"},{value:"accessories",label:"アクセサリー"},{value:"storage",label:"ストレージ"}],G={type:"list",resource:"products",label:"商品一覧",fields:[{name:"name",label:"商品名",kind:"text",sortable:!0},{name:"sku",label:"SKU",kind:"text"},{name:"price",label:"価格",kind:"currency",sortable:!0},{name:"stock",label:"在庫",kind:"number",sortable:!0},{name:"category",label:"カテゴリ",kind:"enum",sortable:!0,options:b},{name:"published",label:"公開",kind:"boolean"}],rows:z.map(t=>({id:t.id,values:t,actions:[{id:"edit",label:"編集",allowed:!0},{id:"duplicate",label:"複製",allowed:!0},{id:"delete",label:"削除",allowed:t.stock===0,confirm:"本当に削除しますか？",ui:{variant:"danger"}}]})),headerActions:[{id:"create",label:"新規作成",allowed:!0,ui:{variant:"primary"}},{id:"import",label:"インポート",allowed:!0}],bulkActions:[{id:"bulk-publish",label:"一括公開",allowed:!0},{id:"bulk-unpublish",label:"一括非公開",allowed:!0}],filters:{named:[]},selection:{mode:"multi",selected:[]},search:{fields:["name","sku"],query:""},defaultSort:{field:"name",order:"asc"},clickAction:"show"},J={type:"show",resource:"products",label:"商品詳細",id:"1",fields:[{name:"name",label:"商品名",kind:"text",value:"ノートPC"},{name:"sku",label:"SKU",kind:"text",value:"PC-001"},{name:"price",label:"価格",kind:"currency",value:128e3},{name:"stock",label:"在庫数",kind:"number",value:50},{name:"category",label:"カテゴリ",kind:"enum",value:"electronics",options:b},{name:"published",label:"公開状態",kind:"boolean",value:!0},{name:"url",label:"商品URL",kind:"url",value:"https://example.com/pc"}],actions:[{id:"edit",label:"編集",allowed:!0,ui:{variant:"primary"}},{id:"duplicate",label:"複製",allowed:!0}],groups:[{id:"basic",label:"基本情報",fields:["name","sku","category"]},{id:"pricing",label:"価格・在庫",fields:["price","stock"]},{id:"publish",label:"公開設定",fields:["published","url"]}]},Q={type:"form",resource:"products",label:"商品編集",mode:"edit",id:"1",fields:[{name:"name",label:"商品名",kind:"text",value:"ノートPC",required:!0,readonly:!1,errors:[],placeholder:"商品名を入力"},{name:"sku",label:"SKU",kind:"text",value:"PC-001",required:!0,readonly:!0,errors:[],hint:"SKUは変更できません"},{name:"price",label:"価格",kind:"number",value:128e3,required:!0,readonly:!1,errors:[],validation:{min:0}},{name:"stock",label:"在庫数",kind:"number",value:50,required:!0,readonly:!1,errors:[],validation:{min:0}},{name:"category",label:"カテゴリ",kind:"enum",value:"electronics",required:!0,readonly:!1,errors:[],options:b},{name:"published",label:"公開",kind:"boolean",value:!0,required:!1,readonly:!1,errors:[]},{name:"url",label:"商品URL",kind:"url",value:"https://example.com/pc",required:!1,readonly:!1,errors:[],placeholder:"https://"}],actions:[{id:"cancel",label:"キャンセル",allowed:!0}],isValid:!0,isDirty:!1,groups:[{id:"basic",label:"基本情報",fields:["name","sku","category"]},{id:"pricing",label:"価格・在庫",fields:["price","stock"]},{id:"publish",label:"公開設定",fields:["published","url"]}]};var W=y('<div class=space-y-6><div class="flex items-center justify-between"><div><h1 class="text-2xl font-semibold text-gray-900">商品管理</h1><p class="mt-1 text-sm text-gray-500">商品情報の管理を行います</p></div><!$><!/></div><div class="bg-white shadow rounded-lg overflow-hidden"><!$><!/><!$><!/><!$><!/>'),X=y('<button class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50">← 一覧に戻る');function I(){const[t,s]=o("list"),[v,p]=o(G),[x]=o(J),[S,w]=o(Q),$=e=>{p(l=>{const a=l.selection.selected.includes(e)?l.selection.selected.filter(r=>r!==e):[...l.selection.selected,e];return{...l,selection:{...l.selection,selected:a}}})},_=()=>{p(e=>{const l=e.selection.selected.length===e.rows.length;return{...e,selection:{...e.selection,selected:l?[]:e.rows.map(a=>a.id)}}})},C=(e,l)=>{console.log("List action:",e,l),(e==="create"||e==="edit")&&s("form")},A=e=>{console.log("Show action:",e),e==="edit"&&s("form")},M=e=>{e==="cancel"&&s("list")},V=(e,l)=>{w(a=>({...a,isDirty:!0,fields:a.fields.map(r=>r.name===e?{...r,value:l}:r)}))},q=()=>{console.log("Form submitted"),s("list")};return(()=>{var e=f(W),l=e.firstChild,a=l.firstChild,r=a.nextSibling,[F,L]=c(r.nextSibling),n=l.nextSibling,P=n.firstChild,[h,U]=c(P.nextSibling),D=h.nextSibling,[k,K]=c(D.nextSibling),B=k.nextSibling,[E,N]=c(B.nextSibling);return d(l,(()=>{var i=u(()=>t()!=="list");return()=>i()&&(()=>{var g=f(X);return g.$$click=()=>s("list"),R(),g})()})(),F,L),d(n,(()=>{var i=u(()=>t()==="list");return()=>i()&&m(j,{get vm(){return v()},onAction:C,onSelect:$,onSelectAll:_,onRowClick:()=>s("show")})})(),h,U),d(n,(()=>{var i=u(()=>t()==="show");return()=>i()&&m(O,{get vm(){return x()},onAction:A})})(),k,K),d(n,(()=>{var i=u(()=>t()==="form");return()=>i()&&m(T,{get vm(){return S()},onChange:V,onSubmit:q,onAction:M})})(),E,N),e})()}H(["click"]);export{I as default};
