import{e as o,i as f,v as d,l as u,m as c,r as H,b,t as w,h as O}from"./web-CDnJDCoD.js";import{L as T,S as U,F as z}from"./Show-DwiAvwvW.js";const B=[{id:"1",title:"SolidJSの始め方",slug:"getting-started-solidjs",author:"田中太郎",category:"tech",published:!0,publishedAt:"2024-11-15",views:1250},{id:"2",title:"TypeScript 5.0 新機能まとめ",slug:"typescript-5-features",author:"佐藤花子",category:"tech",published:!0,publishedAt:"2024-10-20",views:3420},{id:"3",title:"効率的なコードレビューの方法",slug:"effective-code-review",author:"鈴木一郎",category:"process",published:!1,publishedAt:null,views:0},{id:"4",title:"チームビルディングのコツ",slug:"team-building-tips",author:"高橋美咲",category:"management",published:!0,publishedAt:"2024-12-01",views:890}],m=[{value:"tech",label:"技術"},{value:"process",label:"プロセス"},{value:"management",label:"マネジメント"},{value:"news",label:"ニュース"}],G={type:"list",resource:"posts",label:"記事一覧",fields:[{name:"title",label:"タイトル",kind:"text",sortable:!0},{name:"author",label:"著者",kind:"text",sortable:!0},{name:"category",label:"カテゴリ",kind:"enum",sortable:!0,options:m},{name:"published",label:"公開",kind:"boolean"},{name:"publishedAt",label:"公開日",kind:"date",sortable:!0},{name:"views",label:"閲覧数",kind:"number",sortable:!0}],rows:B.map(t=>({id:t.id,values:t,actions:[{id:"edit",label:"編集",allowed:!0},{id:"preview",label:"プレビュー",allowed:!0},{id:"publish",label:"公開",allowed:!t.published},{id:"unpublish",label:"非公開",allowed:t.published,confirm:"非公開にしますか？"}]})),headerActions:[{id:"create",label:"新規作成",allowed:!0,ui:{variant:"primary"}}],bulkActions:[{id:"bulk-publish",label:"一括公開",allowed:!0},{id:"bulk-delete",label:"一括削除",allowed:!0,confirm:"選択した記事を削除しますか？",ui:{variant:"danger"}}],filters:{named:[]},selection:{mode:"multi",selected:[]},search:{fields:["title","author"],query:""},defaultSort:{field:"publishedAt",order:"desc"},clickAction:"show"},K={type:"show",resource:"posts",label:"記事詳細",id:"1",fields:[{name:"title",label:"タイトル",kind:"text",value:"SolidJSの始め方"},{name:"slug",label:"スラッグ",kind:"text",value:"getting-started-solidjs"},{name:"author",label:"著者",kind:"text",value:"田中太郎"},{name:"category",label:"カテゴリ",kind:"enum",value:"tech",options:m},{name:"published",label:"公開状態",kind:"boolean",value:!0},{name:"publishedAt",label:"公開日",kind:"date",value:"2024-11-15"},{name:"views",label:"閲覧数",kind:"number",value:1250}],actions:[{id:"edit",label:"編集",allowed:!0,ui:{variant:"primary"}},{id:"preview",label:"プレビュー",allowed:!0}]},Q={type:"form",resource:"posts",label:"記事編集",mode:"edit",id:"1",fields:[{name:"title",label:"タイトル",kind:"text",value:"SolidJSの始め方",required:!0,readonly:!1,errors:[],placeholder:"記事タイトル"},{name:"slug",label:"スラッグ",kind:"text",value:"getting-started-solidjs",required:!0,readonly:!1,errors:[],hint:"URLに使用されます（英数字とハイフンのみ）"},{name:"category",label:"カテゴリ",kind:"enum",value:"tech",required:!0,readonly:!1,errors:[],options:m},{name:"content",label:"本文",kind:"textarea",value:`# SolidJSとは

SolidJSは...`,required:!0,readonly:!1,errors:[],placeholder:"Markdown形式で入力"},{name:"published",label:"公開する",kind:"boolean",value:!0,required:!1,readonly:!1,errors:[]}],actions:[{id:"preview",label:"プレビュー",allowed:!0},{id:"cancel",label:"キャンセル",allowed:!0}],isValid:!0,isDirty:!1};var W=w('<div class=space-y-6><div class="flex items-center justify-between"><div><h1 class="text-2xl font-semibold text-gray-900">投稿管理</h1><p class="mt-1 text-sm text-gray-500">ブログ記事の作成・編集を行います</p></div><!$><!/></div><div class="bg-white shadow rounded-lg overflow-hidden"><!$><!/><!$><!/><!$><!/>'),X=w('<button class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50">← 一覧に戻る');function I(){const[t,n]=o("list"),[S,h]=o(G),[y]=o(K),[x,$]=o(Q),k=e=>{h(l=>{const i=l.selection.selected.includes(e)?l.selection.selected.filter(a=>a!==e):[...l.selection.selected,e];return{...l,selection:{...l.selection,selected:i}}})},_=()=>{h(e=>{const l=e.selection.selected.length===e.rows.length;return{...e,selection:{...e.selection,selected:l?[]:e.rows.map(i=>i.id)}}})},A=(e,l)=>{console.log("List action:",e,l),(e==="create"||e==="edit")&&n("form")},V=e=>{console.log("Show action:",e),e==="edit"&&n("form")},M=e=>{e==="cancel"&&n("list")},C=(e,l)=>{$(i=>({...i,isDirty:!0,fields:i.fields.map(a=>a.name===e?{...a,value:l}:a)}))},F=()=>{console.log("Form submitted"),n("list")};return(()=>{var e=f(W),l=e.firstChild,i=l.firstChild,a=i.nextSibling,[L,q]=d(a.nextSibling),r=l.nextSibling,J=r.firstChild,[g,j]=d(J.nextSibling),D=g.nextSibling,[p,E]=d(D.nextSibling),N=p.nextSibling,[P,R]=d(N.nextSibling);return u(l,(()=>{var s=c(()=>t()!=="list");return()=>s()&&(()=>{var v=f(X);return v.$$click=()=>n("list"),H(),v})()})(),L,q),u(r,(()=>{var s=c(()=>t()==="list");return()=>s()&&b(T,{get vm(){return S()},onAction:A,onSelect:k,onSelectAll:_,onRowClick:()=>n("show")})})(),g,j),u(r,(()=>{var s=c(()=>t()==="show");return()=>s()&&b(U,{get vm(){return y()},onAction:V})})(),p,E),u(r,(()=>{var s=c(()=>t()==="form");return()=>s()&&b(z,{get vm(){return x()},onChange:C,onSubmit:F,onAction:M})})(),P,R),e})()}O(["click"]);export{I as default};
