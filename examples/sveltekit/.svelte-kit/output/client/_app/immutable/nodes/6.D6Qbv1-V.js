import{f as S,a as c,c as A}from"../chunks/Dw7LeKGv.js";import{s as h,n as w,o as m,t as y,i as a,v as u,w as o,x as N,y as _}from"../chunks/cROy4u8D.js";import{d as P}from"../chunks/Dfj0Z4wW.js";import{i as v}from"../chunks/D-jETF6z.js";import{A as Q,L as T,S as U,F as W}from"../chunks/Dc5P-SFY.js";const X=[{id:"1",name:"田中太郎",email:"tanaka@example.com",role:"admin",active:!0,createdAt:"2024-01-15"},{id:"2",name:"佐藤花子",email:"sato@example.com",role:"editor",active:!0,createdAt:"2024-02-20"},{id:"3",name:"鈴木一郎",email:"suzuki@example.com",role:"viewer",active:!1,createdAt:"2024-03-10"},{id:"4",name:"高橋美咲",email:"takahashi@example.com",role:"editor",active:!0,createdAt:"2024-04-05"},{id:"5",name:"山田健太",email:"yamada@example.com",role:"viewer",active:!0,createdAt:"2024-05-12"}],g=[{value:"admin",label:"管理者"},{value:"editor",label:"編集者"},{value:"viewer",label:"閲覧者"}],Y={type:"list",resource:"users",label:"ユーザー一覧",fields:[{name:"name",label:"名前",kind:"text",sortable:!0},{name:"email",label:"メール",kind:"email",sortable:!0},{name:"role",label:"権限",kind:"enum",sortable:!0,options:g},{name:"active",label:"有効",kind:"boolean"},{name:"createdAt",label:"登録日",kind:"date",sortable:!0}],rows:X.map(s=>({id:s.id,values:s,actions:[{id:"edit",label:"編集",allowed:!0,ui:{variant:"secondary"}},{id:"delete",label:"削除",allowed:!0,confirm:"本当に削除しますか？",ui:{variant:"danger"}}]})),headerActions:[{id:"create",label:"新規作成",allowed:!0,ui:{variant:"primary"}}],bulkActions:[{id:"bulk-delete",label:"一括削除",allowed:!0,confirm:"選択したユーザーを削除しますか？",ui:{variant:"danger"}},{id:"bulk-export",label:"エクスポート",allowed:!0}],filters:{named:[]},selection:{mode:"multi",selected:[]},search:{fields:["name","email"],query:""},defaultSort:{field:"createdAt",order:"desc"},clickAction:"show"},Z={type:"show",resource:"users",label:"ユーザー詳細",id:"1",fields:[{name:"name",label:"名前",kind:"text",value:"田中太郎"},{name:"email",label:"メール",kind:"email",value:"tanaka@example.com"},{name:"role",label:"権限",kind:"enum",value:"admin",options:g},{name:"active",label:"有効",kind:"boolean",value:!0},{name:"createdAt",label:"登録日",kind:"date",value:"2024-01-15"}],actions:[{id:"edit",label:"編集",allowed:!0,ui:{variant:"primary"}},{id:"delete",label:"削除",allowed:!0,confirm:"本当に削除しますか？",ui:{variant:"danger"}}],groups:[{id:"basic",label:"基本情報",fields:["name","email"]},{id:"settings",label:"設定",fields:["role","active","createdAt"]}]},I={type:"form",resource:"users",label:"ユーザー編集",mode:"edit",id:"1",fields:[{name:"name",label:"名前",kind:"text",value:"田中太郎",required:!0,readonly:!1,errors:[],placeholder:"名前を入力"},{name:"email",label:"メールアドレス",kind:"email",value:"tanaka@example.com",required:!0,readonly:!1,errors:[],placeholder:"email@example.com"},{name:"role",label:"権限",kind:"enum",value:"admin",required:!0,readonly:!1,errors:[],options:g},{name:"active",label:"有効",kind:"boolean",value:!0,required:!1,readonly:!1,errors:[],hint:"無効にするとログインできなくなります"}],actions:[{id:"cancel",label:"キャンセル",allowed:!0}],isValid:!0,isDirty:!1,groups:[{id:"basic",label:"基本情報",fields:["name","email"]},{id:"settings",label:"設定",fields:["role","active"]}]};var $=S('<button class="inline-flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md border border-input bg-background hover:bg-accent hover:text-accent-foreground transition-colors"><!> 一覧に戻る</button>'),ee=S('<div class="space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-semibold text-foreground">ユーザー管理</h1> <p class="mt-1 text-sm text-muted-foreground">ユーザーアカウントの管理を行います</p></div> <!></div> <div class="rounded-lg border border-border bg-card text-card-foreground shadow-sm overflow-hidden"><!></div></div>');function oe(s){let i=h("list"),t=h(w(Y)),V=w(Z),d=h(w(I));function F(e){const l=a(t).selection.selected.includes(e)?a(t).selection.selected.filter(r=>r!==e):[...a(t).selection.selected,e];o(t,{...a(t),selection:{...a(t).selection,selected:l}},!0)}function M(){const e=a(t).selection.selected.length===a(t).rows.length;o(t,{...a(t),selection:{...a(t).selection,selected:e?[]:a(t).rows.map(l=>l.id)}},!0)}function q(e,l){(e==="create"||e==="edit")&&o(i,"form")}function L(e){e==="edit"&&o(i,"form")}function C(e){e==="cancel"&&o(i,"list")}function D(e,l){o(d,{...a(d),isDirty:!0,fields:a(d).fields.map(r=>r.name===e?{...r,value:l}:r)},!0)}function j(){o(i,"list")}var f=ee(),b=m(f),z=y(m(b),2);{var O=e=>{var l=$();l.__click=()=>o(i,"list");var r=m(l);Q(r,{class:"h-4 w-4"}),N(),u(l),c(e,l)};v(z,e=>{a(i)!=="list"&&e(O)})}u(b);var k=y(b,2),R=m(k);{var B=e=>{T(e,{get vm(){return a(t)},onAction:q,onSelect:F,onSelectAll:M,onRowClick:()=>o(i,"show")})},E=e=>{var l=A(),r=_(l);{var G=n=>{U(n,{get vm(){return V},onAction:L})},H=n=>{var x=A(),J=_(x);{var K=p=>{W(p,{get vm(){return a(d)},onChange:D,onSubmit:j,onAction:C})};v(J,p=>{a(i)==="form"&&p(K)},!0)}c(n,x)};v(r,n=>{a(i)==="show"?n(G):n(H,!1)},!0)}c(e,l)};v(R,e=>{a(i)==="list"?e(B):e(E,!1)})}u(k),u(f),c(s,f)}P(["click"]);export{oe as component};
