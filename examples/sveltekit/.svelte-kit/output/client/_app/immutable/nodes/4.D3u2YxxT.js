import{f as _,a as u,c as x}from"../chunks/Dw7LeKGv.js";import{s as p,n as g,o as c,t as A,i as t,v as b,w as s,x as H,y as S}from"../chunks/cROy4u8D.js";import{d as J}from"../chunks/Dfj0Z4wW.js";import{i as m}from"../chunks/D-jETF6z.js";import{A as N,L as P,S as Q,F as W}from"../chunks/Dc5P-SFY.js";const X=[{id:"1",title:"SvelteKitの始め方",slug:"getting-started-sveltekit",author:"田中太郎",category:"tech",published:!0,publishedAt:"2024-11-15",views:1250},{id:"2",title:"TypeScript 5.0 新機能まとめ",slug:"typescript-5-features",author:"佐藤花子",category:"tech",published:!0,publishedAt:"2024-10-20",views:3420},{id:"3",title:"効率的なコードレビューの方法",slug:"effective-code-review",author:"鈴木一郎",category:"process",published:!1,publishedAt:null,views:0},{id:"4",title:"チームビルディングのコツ",slug:"team-building-tips",author:"高橋美咲",category:"management",published:!0,publishedAt:"2024-12-01",views:890}],w=[{value:"tech",label:"技術"},{value:"process",label:"プロセス"},{value:"management",label:"マネジメント"},{value:"news",label:"ニュース"}],Y={type:"list",resource:"posts",label:"記事一覧",fields:[{name:"title",label:"タイトル",kind:"text",sortable:!0},{name:"author",label:"著者",kind:"text",sortable:!0},{name:"category",label:"カテゴリ",kind:"enum",sortable:!0,options:w},{name:"published",label:"公開",kind:"boolean"},{name:"publishedAt",label:"公開日",kind:"date",sortable:!0},{name:"views",label:"閲覧数",kind:"number",sortable:!0}],rows:X.map(o=>({id:o.id,values:o,actions:[{id:"edit",label:"編集",allowed:!0},{id:"preview",label:"プレビュー",allowed:!0},{id:"publish",label:"公開",allowed:!o.published},{id:"unpublish",label:"非公開",allowed:o.published,confirm:"非公開にしますか？"}]})),headerActions:[{id:"create",label:"新規作成",allowed:!0,ui:{variant:"primary"}}],bulkActions:[{id:"bulk-publish",label:"一括公開",allowed:!0},{id:"bulk-delete",label:"一括削除",allowed:!0,confirm:"選択した記事を削除しますか？",ui:{variant:"danger"}}],filters:{named:[]},selection:{mode:"multi",selected:[]},search:{fields:["title","author"],query:""},defaultSort:{field:"publishedAt",order:"desc"},clickAction:"show"},Z={type:"show",resource:"posts",label:"記事詳細",id:"1",fields:[{name:"title",label:"タイトル",kind:"text",value:"SvelteKitの始め方"},{name:"slug",label:"スラッグ",kind:"text",value:"getting-started-sveltekit"},{name:"author",label:"著者",kind:"text",value:"田中太郎"},{name:"category",label:"カテゴリ",kind:"enum",value:"tech",options:w},{name:"published",label:"公開状態",kind:"boolean",value:!0},{name:"publishedAt",label:"公開日",kind:"date",value:"2024-11-15"},{name:"views",label:"閲覧数",kind:"number",value:1250}],actions:[{id:"edit",label:"編集",allowed:!0,ui:{variant:"primary"}},{id:"preview",label:"プレビュー",allowed:!0}]},I={type:"form",resource:"posts",label:"記事編集",mode:"edit",id:"1",fields:[{name:"title",label:"タイトル",kind:"text",value:"SvelteKitの始め方",required:!0,readonly:!1,errors:[],placeholder:"記事タイトル"},{name:"slug",label:"スラッグ",kind:"text",value:"getting-started-sveltekit",required:!0,readonly:!1,errors:[],hint:"URLに使用されます（英数字とハイフンのみ）"},{name:"category",label:"カテゴリ",kind:"enum",value:"tech",required:!0,readonly:!1,errors:[],options:w},{name:"content",label:"本文",kind:"textarea",value:`# SvelteKitとは

SvelteKitは...`,required:!0,readonly:!1,errors:[],placeholder:"Markdown形式で入力"},{name:"published",label:"公開する",kind:"boolean",value:!0,required:!1,readonly:!1,errors:[]}],actions:[{id:"preview",label:"プレビュー",allowed:!0},{id:"cancel",label:"キャンセル",allowed:!0}],isValid:!0,isDirty:!1};var $=_('<button class="inline-flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md border border-input bg-background hover:bg-accent hover:text-accent-foreground transition-colors"><!> 一覧に戻る</button>'),ee=_('<div class="space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-semibold text-foreground">投稿管理</h1> <p class="mt-1 text-sm text-muted-foreground">ブログ記事の作成・編集を行います</p></div> <!></div> <div class="rounded-lg border border-border bg-card text-card-foreground shadow-sm overflow-hidden"><!></div></div>');function se(o){let i=p("list"),a=p(g(Y)),V=g(Z),d=p(g(I));function M(e){const l=t(a).selection.selected.includes(e)?t(a).selection.selected.filter(r=>r!==e):[...t(a).selection.selected,e];s(a,{...t(a),selection:{...t(a).selection,selected:l}},!0)}function q(){const e=t(a).selection.selected.length===t(a).rows.length;s(a,{...t(a),selection:{...t(a).selection,selected:e?[]:t(a).rows.map(l=>l.id)}},!0)}function F(e,l){(e==="create"||e==="edit")&&s(i,"form")}function K(e){e==="edit"&&s(i,"form")}function L(e){e==="cancel"&&s(i,"list")}function C(e,l){s(d,{...t(d),isDirty:!0,fields:t(d).fields.map(r=>r.name===e?{...r,value:l}:r)},!0)}function D(){s(i,"list")}var v=ee(),f=c(v),R=A(c(f),2);{var j=e=>{var l=$();l.__click=()=>s(i,"list");var r=c(l);N(r,{class:"h-4 w-4"}),H(),b(l),u(e,l)};m(R,e=>{t(i)!=="list"&&e(j)})}b(f);var k=A(f,2),O=c(k);{var T=e=>{P(e,{get vm(){return t(a)},onAction:F,onSelect:M,onSelectAll:q,onRowClick:()=>s(i,"show")})},U=e=>{var l=x(),r=S(l);{var z=n=>{Q(n,{get vm(){return V},onAction:K})},B=n=>{var y=x(),E=S(y);{var G=h=>{W(h,{get vm(){return t(d)},onChange:C,onSubmit:D,onAction:L})};m(E,h=>{t(i)==="form"&&h(G)},!0)}u(n,y)};m(r,n=>{t(i)==="show"?n(z):n(B,!1)},!0)}u(e,l)};m(O,e=>{t(i)==="list"?e(T):e(U,!1)})}b(k),b(v),u(o,v)}J(["click"]);export{se as component};
