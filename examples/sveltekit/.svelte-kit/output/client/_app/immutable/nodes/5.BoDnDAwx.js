import{f as A,a as c,c as x}from"../chunks/Dw7LeKGv.js";import{s as h,n as k,o as u,t as S,i as l,v as m,w as s,x as z,y as _}from"../chunks/cROy4u8D.js";import{d as E}from"../chunks/Dfj0Z4wW.js";import{i as b}from"../chunks/D-jETF6z.js";import{A as G,L as J,S as Q,F as W}from"../chunks/Dc5P-SFY.js";const X=[{id:"1",name:"ノートPC",sku:"PC-001",price:128e3,stock:50,category:"electronics",published:!0,url:"https://example.com/pc"},{id:"2",name:"ワイヤレスマウス",sku:"MS-002",price:3980,stock:200,category:"accessories",published:!0,url:"https://example.com/mouse"},{id:"3",name:"モニター 27インチ",sku:"MN-003",price:45e3,stock:30,category:"electronics",published:!0,url:"https://example.com/monitor"},{id:"4",name:"キーボード",sku:"KB-004",price:12800,stock:0,category:"accessories",published:!1,url:""},{id:"5",name:"USBハブ",sku:"HB-005",price:2500,stock:150,category:"accessories",published:!0,url:"https://example.com/hub"},{id:"6",name:"外付けSSD 1TB",sku:"SD-006",price:15800,stock:80,category:"storage",published:!0,url:"https://example.com/ssd"}],g=[{value:"electronics",label:"電子機器"},{value:"accessories",label:"アクセサリー"},{value:"storage",label:"ストレージ"}],Y={type:"list",resource:"products",label:"商品一覧",fields:[{name:"name",label:"商品名",kind:"text",sortable:!0},{name:"sku",label:"SKU",kind:"text"},{name:"price",label:"価格",kind:"currency",sortable:!0},{name:"stock",label:"在庫",kind:"number",sortable:!0},{name:"category",label:"カテゴリ",kind:"enum",sortable:!0,options:g},{name:"published",label:"公開",kind:"boolean"}],rows:X.map(n=>({id:n.id,values:n,actions:[{id:"edit",label:"編集",allowed:!0},{id:"duplicate",label:"複製",allowed:!0},{id:"delete",label:"削除",allowed:n.stock===0,confirm:"本当に削除しますか？",ui:{variant:"danger"}}]})),headerActions:[{id:"create",label:"新規作成",allowed:!0,ui:{variant:"primary"}},{id:"import",label:"インポート",allowed:!0}],bulkActions:[{id:"bulk-publish",label:"一括公開",allowed:!0},{id:"bulk-unpublish",label:"一括非公開",allowed:!0}],filters:{named:[]},selection:{mode:"multi",selected:[]},search:{fields:["name","sku"],query:""},defaultSort:{field:"name",order:"asc"},clickAction:"show"},Z={type:"show",resource:"products",label:"商品詳細",id:"1",fields:[{name:"name",label:"商品名",kind:"text",value:"ノートPC"},{name:"sku",label:"SKU",kind:"text",value:"PC-001"},{name:"price",label:"価格",kind:"currency",value:128e3},{name:"stock",label:"在庫数",kind:"number",value:50},{name:"category",label:"カテゴリ",kind:"enum",value:"electronics",options:g},{name:"published",label:"公開状態",kind:"boolean",value:!0},{name:"url",label:"商品URL",kind:"url",value:"https://example.com/pc"}],actions:[{id:"edit",label:"編集",allowed:!0,ui:{variant:"primary"}},{id:"duplicate",label:"複製",allowed:!0}],groups:[{id:"basic",label:"基本情報",fields:["name","sku","category"]},{id:"pricing",label:"価格・在庫",fields:["price","stock"]},{id:"publish",label:"公開設定",fields:["published","url"]}]},I={type:"form",resource:"products",label:"商品編集",mode:"edit",id:"1",fields:[{name:"name",label:"商品名",kind:"text",value:"ノートPC",required:!0,readonly:!1,errors:[],placeholder:"商品名を入力"},{name:"sku",label:"SKU",kind:"text",value:"PC-001",required:!0,readonly:!0,errors:[],hint:"SKUは変更できません"},{name:"price",label:"価格",kind:"number",value:128e3,required:!0,readonly:!1,errors:[],validation:{min:0}},{name:"stock",label:"在庫数",kind:"number",value:50,required:!0,readonly:!1,errors:[],validation:{min:0}},{name:"category",label:"カテゴリ",kind:"enum",value:"electronics",required:!0,readonly:!1,errors:[],options:g},{name:"published",label:"公開",kind:"boolean",value:!0,required:!1,readonly:!1,errors:[]},{name:"url",label:"商品URL",kind:"url",value:"https://example.com/pc",required:!1,readonly:!1,errors:[],placeholder:"https://"}],actions:[{id:"cancel",label:"キャンセル",allowed:!0}],isValid:!0,isDirty:!1,groups:[{id:"basic",label:"基本情報",fields:["name","sku","category"]},{id:"pricing",label:"価格・在庫",fields:["price","stock"]},{id:"publish",label:"公開設定",fields:["published","url"]}]};var $=A('<button class="inline-flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md border border-input bg-background hover:bg-accent hover:text-accent-foreground transition-colors"><!> 一覧に戻る</button>'),ee=A('<div class="space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-semibold text-foreground">商品管理</h1> <p class="mt-1 text-sm text-muted-foreground">商品情報の管理を行います</p></div> <!></div> <div class="rounded-lg border border-border bg-card text-card-foreground shadow-sm overflow-hidden"><!></div></div>');function se(n){let r=h("list"),a=h(k(Y)),V=k(Z),d=h(k(I));function C(e){const t=l(a).selection.selected.includes(e)?l(a).selection.selected.filter(i=>i!==e):[...l(a).selection.selected,e];s(a,{...l(a),selection:{...l(a).selection,selected:t}},!0)}function q(){const e=l(a).selection.selected.length===l(a).rows.length;s(a,{...l(a),selection:{...l(a).selection,selected:e?[]:l(a).rows.map(t=>t.id)}},!0)}function M(e,t){(e==="create"||e==="edit")&&s(r,"form")}function U(e){e==="edit"&&s(r,"form")}function F(e){e==="cancel"&&s(r,"list")}function L(e,t){s(d,{...l(d),isDirty:!0,fields:l(d).fields.map(i=>i.name===e?{...i,value:t}:i)},!0)}function P(){s(r,"list")}var p=ee(),f=u(p),D=S(u(f),2);{var K=e=>{var t=$();t.__click=()=>s(r,"list");var i=u(t);G(i,{class:"h-4 w-4"}),z(),m(t),c(e,t)};b(D,e=>{l(r)!=="list"&&e(K)})}m(f);var y=S(f,2),B=u(y);{var R=e=>{J(e,{get vm(){return l(a)},onAction:M,onSelect:C,onSelectAll:q,onRowClick:()=>s(r,"show")})},j=e=>{var t=x(),i=_(t);{var H=o=>{Q(o,{get vm(){return V},onAction:U})},N=o=>{var w=x(),O=_(w);{var T=v=>{W(v,{get vm(){return l(d)},onChange:L,onSubmit:P,onAction:F})};b(O,v=>{l(r)==="form"&&v(T)},!0)}c(o,w)};b(i,o=>{l(r)==="show"?o(H):o(N,!1)},!0)}c(e,t)};b(B,e=>{l(r)==="list"?e(R):e(j,!1)})}m(y),m(p),c(n,p)}E(["click"]);export{se as component};
